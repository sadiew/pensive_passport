library(dplyr)
library(data.table)
#Cost of living data - select necessary columns and bind US + Int'l
us_per_diem <- read.csv('~/Desktop/sw_project/original_data_sources/per_diem_us.csv')
us_per_diem$country <- 'United States'
us_per_diem <- us_per_diem %>% select(city, country, m_ie_rate)
us_per_diem$m_ie_rate <- gsub('$', '', us_per_diem$m_ie_rate)
us_per_diem <- data.table(us_per_diem)
setkey(us_per_diem)
us_per_diem <- unique(us_per_diem)
intl_per_diem <- read.csv('~/Desktop/sw_project/original_data_sources/per_diem_intl.csv')
intl_per_diem <- intl_per_diem %>% select(city, country, m_ie_rate)
intl_per_diem <- data.table(intl_per_diem)
setkey(intl_per_diem)
intl_per_diem <- unique(intl_per_diem)
finalCostOfLiving <- rbind(us_per_diem, intl_per_diem)
write.csv(finalCostOfLiving, '~/Desktop/sw_project/original_data_sources/per_diem_rates.csv', row.names=FALSE)
#Airport Data - select necessary columns
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
View(airports)
setnames(airports, "iata_faa","airport_code")
setnames(airports, "iata_faa","airport_code")
airports <- airports %>%
filter_by(airport_code!='')
airports <- airports %>%
filter(airport_code!='')
View(airports)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports <- airports %>%
filter(airport_code!='') %>%
arrange(city, country)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports <- airports %>%
filter(airport_code!='') %>%
arrange(city, country)
View(airports)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports <- airports %>%
filter(airport_code!='') %>%
arrange(country, city)
View(airports)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports <- airports %>%
filter(airport_code!='', city!='') %>%
arrange(country, city)
View(airports)
airports$latitude <- trunc(airports$latitude/10^2)*10^2
View(airports)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports <- airports %>%
filter(airport_code!='', city!='') %>%
arrange(country, city)
View(airports)
airports$latitude <- round(airports$latitude,2)
View(airports)
airports$longitude <- round(airports$longitude,2)
View(airports)
subset(airports, city=='Paris')
subset(airports, city=='Portland')
subset(airports, city=='Arlington')
subset(airports, city=='Richmond')
subset(airports, city=='Austin')
subset(airports, city=='London')
#Airport Data - select necessary columns
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city)
View(airports)
subset(airports, city=='London')
subset(airports, city=='Portland')
subset(airports, city=='Richmond')
subset(airports, city=='Concord')
subset(airports, city=='Charleston')
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv')
View(us_airports_by_state)
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv')
setnames(us_airports_by_state, "code", "airport_code")
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city) %>%
left_join(us_airports_by_state, by="airport_code")
View(airports)
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv')
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city) %>%
left_join(us_airports_by_state, by="airport_code")
View(airports)
airports$state[is.na(airports$state)] = ''
View(airports)
subset(airports, city=='Portland')
subset(airports, city=='Richmond')
airports$state[is.na(airports$state)]
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city) %>%
left_join(us_airports_by_state, by="airport_code")
airports$state[is.na(airports$state)]
airports$state[is.na(airports$state)] = ''
View(airports)
cities <- airports %>%
select(city, state, country)
View(cities)
cities <- airports %>%
select(city, state, country) %>%
unique()
subset(cities, city=="London")
subset(cities, city=="Portland")
subset(cities, city=="Richmond")
cities <- mutate(cities, id=rownames(cities))
View(cities)
cities <- airports %>%
select(city, state, country) %>%
unique()
cities <- mutate(cities, id=rownames(cities)) %>% select(id, city, state, country)
View(cities)
cities <- airports %>%
select(city, state, country) %>%
unique()
cities <- mutate(cities, city_id=rownames(cities)) %>% select(id, city, state, country)
cities <- airports %>%
select(city, state, country) %>%
unique()
cities <- mutate(cities, city_id=rownames(cities)) %>% select(city_id, city, state, country)
airports <- airports %>% left_join(cities, by = c('city', 'state', 'country'))
View(airports)
subset(airports, city=='Portland')
help(write)
write.table(cities, file="airports.txt", sep="\t")
clear
clear()
library(dplyr)
library(data.table)
#Cost of living data - select necessary columns and bind US + Int'l
us_per_diem <- read.csv('~/Desktop/sw_project/original_data_sources/per_diem_us.csv')
us_per_diem$country <- 'United States'
us_per_diem <- us_per_diem %>% select(city, country, m_ie_rate)
us_per_diem$m_ie_rate <- gsub('$', '', us_per_diem$m_ie_rate)
us_per_diem <- data.table(us_per_diem)
setkey(us_per_diem)
us_per_diem <- unique(us_per_diem)
intl_per_diem <- read.csv('~/Desktop/sw_project/original_data_sources/per_diem_intl.csv')
intl_per_diem <- intl_per_diem %>% select(city, country, m_ie_rate)
intl_per_diem <- data.table(intl_per_diem)
setkey(intl_per_diem)
intl_per_diem <- unique(intl_per_diem)
finalCostOfLiving <- rbind(us_per_diem, intl_per_diem)
#Airport Data - select necessary columns
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city) %>%
left_join(us_airports_by_state, by="airport_code")
airports$state[is.na(airports$state)] = ''
#City Data - seeded from Airports above
cities <- airports %>%
select(city, state, country) %>%
unique()
cities <- mutate(cities, city_id=rownames(cities)) %>% select(city_id, city, state, country)
#Append city id to airports
airports <- airports %>% left_join(cities, by = c('city', 'state', 'country'))
write.csv(finalCostOfLiving, '~/Desktop/sw_project/original_data_sources/per_diem_rates.csv', row.names=FALSE)
write.csv(airports, '~/Desktop/sw_project/original_data_sources/airports.csv', row.names=FALSE)
write.csv(cities, '~/Desktop/sw_project/original_data_sources/cities.csv', row.names=FALSE)
View(finalCostOfLiving)
#Airport Data - select necessary columns
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city) %>%
left_join(us_airports_by_state, by="airport_code")
airports$state[is.na(airports$state)] = ''
#City Data - seeded from Airports above
cities <- airports %>%
select(city, state, country) %>%
unique()
cities <- mutate(cities, city_id=rownames(cities)) %>% select(city_id, city, state, country)
#Append city id to airports
airports <- airports %>%
left_join(cities, by = c('city', 'state', 'country')) %>%
select(airport_code, city_id, name, latitude, longitude)
#Airport Data - select necessary columns
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
#Airport Data - select necessary columns
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city) %>%
left_join(us_airports_by_state, by="airport_code")
airports$state[is.na(airports$state)] = ''
#City Data - seeded from Airports above
cities <- airports %>%
select(city, state, country) %>%
unique()
cities <- mutate(cities, city_id=rownames(cities)) %>% select(city_id, city, state, country)
#Append city id to airports
airports <- airports %>%
left_join(cities, by = c('city', 'state', 'country')) %>%
select(airport_code, city_id, name, latitude, longitude)
#Airport Data - select necessary columns
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
View(airports)
View(airports)
View(us_airports_by_state)
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
View(us_airports_by_state)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
View(airports)
#Airport Data - select necessary columns
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city) %>%
left_join(us_airports_by_state, by="airport_code")
airports$state[is.na(airports$state)] = ''
#Airport Data - select necessary columns
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city) %>%
left_join(us_airports_by_state, by="airport_code")
airports$state[is.na(airports$state)] = ''
#City Data - seeded from Airports above
cities <- airports %>%
select(city, state, country) %>%
unique()
cities <- mutate(cities, city_id=rownames(cities)) %>% select(city_id, city, state, country)
#Append city id to airports
airports <- airports %>%
left_join(cities, by = c('city', 'state', 'country')) %>%
select(airport_code, city_id, name, latitude, longitude)
#Append cost of living to cities
#write.csv(finalCostOfLiving, '~/Desktop/sw_project/original_data_sources/per_diem_rates.csv', row.names=FALSE)
write.csv(airports, '~/Desktop/sw_project/original_data_sources/airports_model.csv', row.names=FALSE)
write.csv(cities, '~/Desktop/sw_project/original_data_sources/cities_model.csv', row.names=FALSE)
View(airports)
View(cities)
#Airport Data - select necessary columns
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city) %>%
left_join(us_airports_by_state, by="airport_code")
airports$state[is.na(airports$state)] = ''
#City Data - seeded from Airports above
cities <- airports %>%
select(city, state, country) %>%
unique()
cities <- mutate(cities, city_id=rownames(cities)) %>% select(city_id, city, state, country)
#Append city id to airports
airports <- airports %>%
left_join(cities, by = c('city', 'state', 'country')) %>%
select(airport_code, name, city_id, name, latitude, longitude)
View(airports)
write.csv(airports, '~/Desktop/sw_project/original_data_sources/airports_model.csv', row.names=FALSE)
View(cities)
View(airports)
#Airport Data - select necessary columns
us_airports_by_state <- read.csv('~/Desktop/sw_project/original_data_sources/us_airports_by_state.csv', stringsAsFactors=FALSE)
setnames(us_airports_by_state, "code", "airport_code")
us_airports_by_state <- us_airports_by_state %>% select(state, airport_code)
airports <- read.csv('~/Desktop/sw_project/original_data_sources/airports.csv')
setnames(airports, "iata_faa","airport_code")
airports$latitude <- round(airports$latitude,2)
airports$longitude <- round(airports$longitude,2)
airports <- airports %>%
filter(airport_code!='', city!='', iaco!='') %>%
arrange(country, city) %>%
left_join(us_airports_by_state, by="airport_code")
airports$state[is.na(airports$state)] = ''
View(airports)
#City Data - seeded from Airports above
cities <- airports %>%
select(city, state, country) %>%
unique()
cities <- mutate(cities, city_id=rownames(cities)) %>% select(city_id, city, state, country)
#Append city id to airports
airports <- airports %>%
left_join(cities, by = c('city', 'state', 'country')) %>%
select(airport_id, airport_code, name, city_id, name, latitude, longitude)
View(airports)
write.csv(airports, '~/Desktop/sw_project/original_data_sources/airports_model.csv', row.names=FALSE)
